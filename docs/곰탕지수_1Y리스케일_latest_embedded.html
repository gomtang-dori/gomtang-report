<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>곰탕지수 리포트</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #0f1a30;
      --card: #111f3a;
      --line: rgba(255,255,255,0.10);
      --text: #e8eefc;
      --muted: rgba(232,238,252,0.72);
      --accent: #66a6ff;
    }
    body {
      margin:0; background: var(--bg); color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif;
    }
    .topbar {
      display:flex; justify-content:space-between; align-items:center;
      padding: 10px 14px; border-bottom: 1px solid var(--line);
      background: rgba(15,26,48,0.85);
      position: sticky; top: 0; backdrop-filter: blur(10px); z-index: 10;
    }
    .brand { font-weight: 700; font-size: 14px; color: var(--text); opacity:0.95; }
    .toolbar { display:flex; gap:8px; align-items:center; }
    select, button {
      background: #0e1a33; color: var(--text);
      border: 1px solid var(--line);
      border-radius: 10px; padding: 8px 10px; font-size: 12px;
    }
    button { cursor:pointer; }
    .container { max-width: 1200px; margin: 0 auto; padding: 14px; }
    .hero {
      background: radial-gradient(1200px 400px at 30% 0%, rgba(102,166,255,0.20), transparent 60%),
                  radial-gradient(900px 300px at 80% 30%, rgba(77,212,172,0.15), transparent 65%);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 16px;
      margin-top: 10px;
    }
    .title-row { display:flex; align-items:baseline; gap:10px; flex-wrap:wrap; }
    h1 { margin:0; font-size: 22px; }
    .badge {
      display:inline-block; padding: 4px 10px; border-radius: 999px;
      border: 1px solid var(--line); background: rgba(255,255,255,0.04);
      font-size: 12px; color: var(--text);
    }

    .kpi-grid {
      margin-top: 14px;
      display:grid; grid-template-columns: repeat(4, 1fr); gap: 12px;
    }
    @media (max-width: 980px) {
      .kpi-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 520px) {
      .kpi-grid { grid-template-columns: 1fr; }
    }
    .kpi-card {
      background: rgba(17,31,58,0.85);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 12px;
      min-height: 84px;
    }
    .kpi-label { font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    .kpi-value { font-size: 20px; font-weight: 800; }
    .kpi-sub { margin-top: 6px; font-size: 12px; color: var(--muted); }
    .kpi-pills { display:flex; flex-wrap:wrap; gap:6px; }
    .pill {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
    }

    .section {
      margin-top: 14px;
      border: 1px solid var(--line);
      border-radius: 16px;
      background: rgba(15,26,48,0.55);
      padding: 12px;
    }
    .section h2 { margin: 0 0 10px 0; font-size: 15px; }
    .grid2 { display:grid; grid-template-columns: 1.1fr 0.9fr; gap: 12px; }
    @media (max-width: 980px) { .grid2 { grid-template-columns: 1fr; } }

    .card {
      border: 1px solid var(--line);
      background: rgba(17,31,58,0.75);
      border-radius: 14px;
      padding: 12px;
    }
    .card h3 { margin: 0 0 10px 0; font-size: 14px; color: rgba(232,238,252,0.95); }

    img { width: 100%; height: auto; border-radius: 12px; border: 1px solid rgba(255,255,255,0.06); }

    table { width:100%; border-collapse: collapse; }
    th, td { border-bottom: 1px solid rgba(255,255,255,0.10); padding: 7px 9px; font-size: 12px; }
    th { text-align:left; color: rgba(232,238,252,0.92); background: rgba(255,255,255,0.03); }

    .muted { color: var(--muted); font-size: 12px; line-height: 1.6; }
    .ab-grid { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    @media (max-width: 980px) { .ab-grid { grid-template-columns: 1fr; } }
    .ab-box {
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
      border-radius: 14px;
      padding: 12px;
    }
    .ab-title { font-weight: 800; margin-bottom: 8px; }
    .ab-final {
      margin-top: 8px;
      display:inline-block;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(102,166,255,0.15);
      border: 1px solid rgba(102,166,255,0.35);
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="brand">곰탕지수 리포트</div>
    <div class="toolbar">
      <select id="dateSelect" title="날짜 선택(최근 10개)"></select>
      <button onclick="window.location.href='report_index.json'">날짜폴더(보기)</button>
      <button onclick="window.location.href='index.html'">최신</button>
    </div>
  </div>

  <div class="container">
    <div class="hero">
      <div class="title-row">
        <h1>한국곰탕지수(1Y 리스케일) 일일 리포트</h1>
        <span class="badge">2026-02-10</span>
      </div>
      <div class="muted" style="margin-top:8px;">
        * GitHub Actions가 레포 <code>data/</code>를 읽어서 매일 자동 생성합니다. (UTC 생성시각: 2026-02-11 16:29:44)
      </div>

      
    <div class="kpi-grid">
      <div class="kpi-card">
        <div class="kpi-label">곰탕 지수값(1Y)</div>
        <div class="kpi-value">56.18</div>
        <div class="kpi-sub">0~100</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-label">구간(정체)</div>
        <div class="kpi-value">55~60</div>
        <div class="kpi-sub">Greed</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-label">추세(+5p)</div>
        <div class="kpi-pills">
          <span class="pill">3D: 3.15%</span>
          <span class="pill">5D: 0.16%</span>
        </div>
        <div class="kpi-sub">* index_close 기반</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-label">KOSPI200</div>
        <div class="kpi-pills">
          <span class="pill">종가: 780.76</span>
          <span class="pill">3D: 3.15%</span>
          <span class="pill">5D: 0.16%</span>
        </div>
        <div class="kpi-sub">단기 변화율</div>
      </div>
    </div>
    
    </div>

    <div class="section">
      <h2>1) 3단계 투자전략(A/B 동시 표기)</h2>
      <div class="ab-grid">
        <div class="ab-box">
          <div class="ab-title">A안(레벨) · 중립</div>
          <div class="muted">A안: base(40/60)=0, adj=+0.50 (5D 보합 → 3D 반영) / 점수=+0.50</div>
        </div>
        <div class="ab-box">
          <div class="ab-title">B안(추세) · 매수</div>
          <div class="muted">B안: base(45/55)=1, adj=5D(+0)+3D(+1)*0.25 → +0.25 / 점수=+1.25</div>
        </div>
      </div>
      <div class="ab-final">최종 의견: <b>중립</b></div>
    </div>

    <div class="section">
      <h2>2) 곰탕지수 라인차트</h2>
      <div class="card">
        <img src="assets/fg_line.png" alt="FG line" />
      </div>
    </div>

    <div class="section">
      <h2>3) 구성요소(컴포넌트) 라인차트</h2>
      <div class="card">
        <img src="assets/components_grid.png" alt="components" />
      </div>
    </div>

    <div class="section">
      <h2>4) 히트맵(최신 셀 위치 표시)</h2>
      <div class="grid2">
        <div class="card">
          <h3>히트맵 1 — 평균 수익(20D)</h3>
          <img src="assets/heat_mean_20d.png" alt="heat mean" />
        </div>
        <div class="card">
          <h3>히트맵 2 — 승률(20D)</h3>
          <img src="assets/heat_win_20d.png" alt="heat win" />
        </div>
      </div>

      <div class="card" style="margin-top:12px;">
        <h3>Forward 요약표</h3>
        <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>horizon_trading_days</th>
      <th>bucket</th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>p25</th>
      <th>p75</th>
      <th>win_rate</th>
      <th>mean_pct</th>
      <th>median_pct</th>
      <th>p25_pct</th>
      <th>p75_pct</th>
      <th>win_rate_pct</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>20</td>
      <td>Extreme Fear</td>
      <td>42</td>
      <td>0.073629</td>
      <td>0.067971</td>
      <td>0.036702</td>
      <td>0.102773</td>
      <td>0.880952</td>
      <td>7.362909</td>
      <td>6.797089</td>
      <td>3.670169</td>
      <td>10.277331</td>
      <td>88.095238</td>
    </tr>
    <tr>
      <td>20</td>
      <td>Extreme Greed</td>
      <td>66</td>
      <td>0.093520</td>
      <td>0.098726</td>
      <td>0.024749</td>
      <td>0.151991</td>
      <td>0.878788</td>
      <td>9.351997</td>
      <td>9.872614</td>
      <td>2.474870</td>
      <td>15.199082</td>
      <td>87.878788</td>
    </tr>
    <tr>
      <td>20</td>
      <td>Fear</td>
      <td>43</td>
      <td>0.071413</td>
      <td>0.060638</td>
      <td>0.002527</td>
      <td>0.123658</td>
      <td>0.790698</td>
      <td>7.141267</td>
      <td>6.063824</td>
      <td>0.252680</td>
      <td>12.365829</td>
      <td>79.069767</td>
    </tr>
    <tr>
      <td>20</td>
      <td>Greed</td>
      <td>40</td>
      <td>0.053566</td>
      <td>0.029331</td>
      <td>-0.003776</td>
      <td>0.118568</td>
      <td>0.675000</td>
      <td>5.356601</td>
      <td>2.933144</td>
      <td>-0.377605</td>
      <td>11.856781</td>
      <td>67.500000</td>
    </tr>
    <tr>
      <td>20</td>
      <td>Neutral</td>
      <td>27</td>
      <td>0.076578</td>
      <td>0.102330</td>
      <td>-0.003089</td>
      <td>0.156365</td>
      <td>0.703704</td>
      <td>7.657750</td>
      <td>10.233008</td>
      <td>-0.308921</td>
      <td>15.636504</td>
      <td>70.370370</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Extreme Fear</td>
      <td>27</td>
      <td>0.276625</td>
      <td>0.302608</td>
      <td>0.251540</td>
      <td>0.323907</td>
      <td>1.000000</td>
      <td>27.662496</td>
      <td>30.260795</td>
      <td>25.154045</td>
      <td>32.390749</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Extreme Greed</td>
      <td>66</td>
      <td>0.210568</td>
      <td>0.215110</td>
      <td>0.155274</td>
      <td>0.257040</td>
      <td>1.000000</td>
      <td>21.056837</td>
      <td>21.511041</td>
      <td>15.527354</td>
      <td>25.703987</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Fear</td>
      <td>30</td>
      <td>0.256591</td>
      <td>0.286836</td>
      <td>0.144229</td>
      <td>0.323193</td>
      <td>1.000000</td>
      <td>25.659119</td>
      <td>28.683592</td>
      <td>14.422909</td>
      <td>32.319314</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Greed</td>
      <td>34</td>
      <td>0.250463</td>
      <td>0.298909</td>
      <td>0.241065</td>
      <td>0.317516</td>
      <td>0.941176</td>
      <td>25.046253</td>
      <td>29.890875</td>
      <td>24.106521</td>
      <td>31.751593</td>
      <td>94.117647</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Neutral</td>
      <td>21</td>
      <td>0.234792</td>
      <td>0.246422</td>
      <td>0.181718</td>
      <td>0.319727</td>
      <td>1.000000</td>
      <td>23.479213</td>
      <td>24.642190</td>
      <td>18.171831</td>
      <td>31.972694</td>
      <td>100.000000</td>
    </tr>
  </tbody>
</table>
      </div>
    </div>
  </div>

<script>
async function initDates() {
  const res = await fetch('report_index.json?ts=' + Date.now());
  const data = await res.json();
  const sel = document.getElementById('dateSelect');
  sel.innerHTML = '';
  (data.items || []).forEach((it, idx) => {
    const opt = document.createElement('option');
    opt.value = it.file;
    opt.textContent = it.asof + (idx===0 ? ' (최신)' : '');
    sel.appendChild(opt);
  });
  sel.onchange = () => {
    window.location.href = sel.value;
  };
}
initDates();
</script>
</body>
</html>